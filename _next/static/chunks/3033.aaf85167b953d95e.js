"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3033],{73928:function(e,t,n){n.d(t,{t:function(){return l}});var r=n(77646),o=n(43324),s=n(69071),i=n(67713),a=n(16451);class l{get isValidPhoneNumber(){const e=o.ZP.getState().customerState.userInfo;return a.z.validatePhoneNumber(e.phoneNumber.trim())}get(){return o.ZP.getState().customerState.userInfo}loadUserInfoWithAddress(e){o.ZP.dispatch(s.b.updateUserInfo(e))}saveUserInfo(e){o.ZP.dispatch(s.b.updateUserInfo(e))}loadUserInfo(){const e=o.ZP.getState().customerState.userInfo,t=new r.UserInfo;e&&t.load(e),t.loadFromCache(i.C),o.ZP.dispatch(s.b.updateUserInfo(t))}}new l},13914:function(e,t,n){n.d(t,{R:function(){return r}});class r{constructor(){this.errorFields=[]}}},86124:function(e,t,n){n.d(t,{h:function(){return m}});var r=n(64532),o=n.n(r),s=n(43324),i=n(8195),a=n(13914),l=n(23218),c=n(46906),u=n(47984),d=n(1926),h=n(93311);class m{constructor(){this.eventService=c.P.getInstance(),this.routeHelper=l.s,this.storeService=i.N.getInstance(),this.http=o(),this.observe()}static getInstance(){return this.instance||(this.instance=new m),this.instance}observe(){s.ZP.subscribe((()=>{const e=s.ZP.getState().contactPageState;e.addProductInfo&&(this.addProductInfo=e.addProductInfo)}))}async setUp(e){this.storeService.loadRoute(e).then((()=>{}))}getItemFromContext(){const e=s.ZP.getState().contextState;return this.storeService.findProductByContext(e)}generateMessage(e,t,n){let r=n;const o=this.getItemFromContext();r=this.addProductInfo&&o?`Enquiry about ${o.name} + ${n}`:"Enquiry: ";return r=`${`\nName: ${e}\nphoneNumber: ${t}\n`}\n${r}`,r}validateFields(e,t,n){const r=new a.R;return e||r.errorFields.push("name"),t||r.errorFields.push("phone"),n||r.errorFields.push("query"),r}async sendEnquiry(e,t,n,r){const o=this.validateFields(e,t,n);if(o.errorFields.length)return o;let i=n;const a=s.ZP.getState().storeState.store,l=this.getItemFromContext();this.addProductInfo&&l&&(i=`Enquiry about ${l.name} + ${n}`);const c=h.q.functions.CLOUD_FUNCTION_URL+"/sendEnquiry",d={storeId:null===a||void 0===a?void 0:a.meta.id,msg:i,phone:t,email:r||"Not provided",name:e};return this.eventService.recordEvent("send_enquiry","engagement",t),this.eventService.recordEvent("generate_lead","engagement",`enquiry sent by ${e} | ${t}`),await u.sM.sendData({apiPath:c,requestBody:JSON.stringify(d),requestHeader:{"Content-Type":"application/json"}}),o}sendEnquiryOnWhatsapp(e,t,n){var r;const o=this.validateFields(e,t,n);if(o.errorFields.length)return o;const i=null===(r=s.ZP.getState().storeState.store)||void 0===r?void 0:r.meta,a=this.generateMessage(e,t,n);this.eventService.recordEvent("contact-on-whatsapp",null===i||void 0===i?void 0:i.id,"success");const l=null===i||void 0===i?void 0:i.phoneNumber,c=new d.C;return l&&c.msgWhatsapp(a,l,!0),o}get contactInfo(){const e=s.ZP.getState().storeState.store.meta;let t="Please fill in the below form and we will get back to you as soon as we can.";const n="\nYou can also reach out to us at ";return(null===e||void 0===e?void 0:e.phoneNumber)&&e.email?t=`${t}${n} ${e.phoneNumber} or mail at ${e.email}`:(null===e||void 0===e?void 0:e.phoneNumber)?t=`${t}${n} ${e.phoneNumber}`:(null===e||void 0===e?void 0:e.email)&&(t=`${t}${n} ${e.email}`),t}}},16451:function(e,t,n){n.d(t,{z:function(){return o}});var r=n(43324);class o{static sanitizePhoneNumber(e){return e.replace(/\W/g,"")}static validatePhoneNumber(e){var t;const n=r.ZP.getState().storeState.store;return"INR"!==(null===(t=null===n||void 0===n?void 0:n.meta)||void 0===t?void 0:t.currency)||/^([0]|\+91|91|\+91-|91-)?[123456789]\d{9}$/.test(e.trim())}}},13033:function(e,t,n){n.r(t),n.d(t,{default:function(){return y}});var r=n(59499),o=n(67294),s=n(16451),i=n(42809),a=n(40602),l=n(53918).default.div.withConfig({displayName:"styles__StyledPopUp",componentId:"sc-iadwyi-0"})([".modal-dialog{max-width:368px;}.body-small{@extend .margin-b8;}.modal-header{border-bottom:0px;padding:0px;}.modal-body{padding:24px 0px 0px;}.circle{border-radius:50%;border:4px solid $success1;width:120px;height:120px;display:flex;justify-content:center;align-items:center;background-color:rgba(4,139,54,0.2);margin:auto;}.center{text-align:center;}.close-icon{position:absolute;top:29px;right:29px;}@media (min-width:768px){.circle{width:144px;height:144px;}}.fa-icon{height:20px !important;}"]),c=n(46906),u=n(86124),d=n(73928),h=n(82886),m=n(54549),v=n(25617),p=n(43324),b=n(39673),g=n(85893);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function x(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var y=function(e){var t=(0,p.TL)(),n=(0,o.useState)(!1),r=n[0],f=n[1],y=(0,o.useState)(),w=(y[0],y[1]),P=c.P.getInstance(),N=u.h.getInstance(),j=(0,o.useState)(!1),S=j[0],C=j[1],I=(0,m.iP)(),q=(0,v.v9)((function(e){return e.uiState.hasModalShown})),E=function(e){var t=!e.target.value;Z((function(n){return x(x({},n),{},{error:t,value:e.target.value})}))},O=(0,o.useState)({header:"Enter your enquiry",error:!1,isRequired:!1,value:"",onChange:E,name:"review",id:"review",subText:"Enquiry Can't be Empty"}),$=O[0],Z=O[1],L=(0,o.useState)({error:!1,type:"tel",placeHolder:"Enter your phone number",isRequired:!0,value:"",onChange:function(e){var t=!e.target.value;F((function(n){return x(x({},n),{},{error:t,value:e.target.value,subText:t?"Phone number is required":""})}))},name:"Phone",subText:"Phone number is required"}),U=L[0],F=L[1],T=(0,o.useState)(!1),k=T[0],R=T[1];(0,o.useEffect)((function(){q?e.onClose():(R(!0),t(b.Ib.update({hasModalShown:!0})))}),[]);var _=function(){var e=new d.t,t=new h.UserInfo;t.phoneNumber=U.value,e.saveUserInfo(t)};return k?(0,g.jsx)(l,{children:(0,g.jsx)("div",{className:"modal-dialog modal-sm phone-no",children:(0,g.jsxs)("div",{className:"modal-content p--x--24 p--y--24",children:[(0,g.jsxs)("div",{className:"d-flex align-items-center justify-content-between w-100  m--b--24",children:[!r&&(0,g.jsx)("div",{className:"".concat(I?"title2":"title3"),children:"Got an enquiry?"}),(0,g.jsx)("svg",{onClick:function(){R(!1),e.onClose()},width:"14",height:"14",viewBox:"0 0 14 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"ml-auto",children:(0,g.jsx)("path",{d:"M13.7071 1.70711C14.0976 1.31658 14.0976 0.683417 13.7071 0.292893C13.3166 -0.0976311 12.6834 -0.0976311 12.2929 0.292893L7 5.58579L1.70711 0.292893C1.31658 -0.0976311 0.683417 -0.0976311 0.292893 0.292893C-0.0976311 0.683417 -0.0976311 1.31658 0.292893 1.70711L5.58579 7L0.292893 12.2929C-0.0976311 12.6834 -0.0976311 13.3166 0.292893 13.7071C0.683417 14.0976 1.31658 14.0976 1.70711 13.7071L7 8.41421L12.2929 13.7071C12.6834 14.0976 13.3166 14.0976 13.7071 13.7071C14.0976 13.3166 14.0976 12.6834 13.7071 12.2929L8.41421 7L13.7071 1.70711Z",fill:"#142236"})})]}),(0,g.jsx)("div",{children:r?(0,g.jsxs)("div",{className:"row",children:[(0,g.jsx)("div",{className:"col-12 margin-b16",children:(0,g.jsx)("div",{className:"circle",children:(0,g.jsxs)("svg",{width:"144",height:"144",viewBox:"0 0 144 144",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,g.jsx)("circle",{cx:"72",cy:"72",r:"70",fill:"#048B36",fillOpacity:"0.2",stroke:"#048B36",strokeWidth:"4"}),(0,g.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M95.219 54.1143C96.2604 55.1557 96.2604 56.8441 95.219 57.8855L65.8856 87.2189C64.8442 88.2603 63.1558 88.2603 62.1144 87.2189L48.781 73.8855C47.7397 72.8441 47.7397 71.1557 48.781 70.1143C49.8224 69.0729 51.5109 69.0729 52.5523 70.1143L64 81.562L91.4477 54.1143C92.4891 53.0729 94.1776 53.0729 95.219 54.1143Z",fill:"#048B36"})]})})}),(0,g.jsxs)("div",{className:"col-12 center m--t--24",children:[(0,g.jsx)("div",{className:"".concat(I?"title2":"title3"),children:"Enquiry submitted"}),(0,g.jsx)("div",{className:"body-small",children:"We will contact you soon"})]})]}):(0,g.jsxs)("div",{className:"row",children:[(0,g.jsxs)("div",{className:"col-12 with-label",children:[(0,g.jsx)("label",{className:"body-small",children:"Your Enquiry"}),(0,g.jsx)(a.Z,{onChange:E,value:$.value,name:"enquiry",placeHolder:$.placeHolder,id:$.id,isRequired:$.isRequired,subText:$.error?$.subText:"",error:$.error})]}),(0,g.jsxs)("div",{className:"col-12 with-label m--t--16",children:[(0,g.jsx)("label",{className:"body-small",children:"Your Phone Number"}),(0,g.jsx)(i.Gj,{type:U.type,onChange:U.onChange,value:U.value,id:U.id,name:U.name,error:U.error,subText:U.error?U.subText:""})]}),(0,g.jsx)("div",{className:"col-12 resizable ".concat(I?"m--t--16":"m--t--24"),children:(0,g.jsx)(i.qz,{buttonStyle:"primary",buttonSize:"large",buttonWidth:"100%",buttonHeight:"48px",buttonName:"SUBMIT",isLoading:S,click:function(){return C(!0),$.value?U.value?s.z.validatePhoneNumber(U.value)?(w(!0),P.recordEvent("submit-phone-number",e.storeId,"success"),void N.sendEnquiry("Not provided",U.value,"".concat($.value)||"I have visited your website, please contact me.").then((function(){f(!0),C(!0),w(!1),_()})).catch()):(C(!1),void F((function(e){return x(x({},e),{},{error:!0,subText:"Invalid phone number"})}))):(C(!1),void F((function(e){return x(x({},e),{},{error:!0,subText:"Phone number is required"})}))):(C(!1),void Z((function(e){return x(x({},e),{},{error:!0})})))}})})]})})]})})}):null}}}]);